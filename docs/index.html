<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Documentation - v0.3.2</title><meta name="description" content="Documentation for Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Documentation - v0.3.2</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>Documentation - v0.3.2</h2></div><div class="tsd-panel tsd-typography"><a id="md:prosopo-procaptcha" class="tsd-anchor"></a><h1><a href="#md:prosopo-procaptcha">Prosopo Procaptcha</a></h1><p>Prosopo Procaptcha is a drop-replacement for reCAPTCHA and hCaptcha that protects user privacy and collects zero data.</p>
<p>Sign up <a href="https://prosopo.io/register">for a 3 month trial</a> and get your sitekey today. You need a sitekey to use
this library.</p>
<a id="md:configuration" class="tsd-anchor"></a><h1><a href="#md:configuration">Configuration</a></h1><p>Prosopo captcha can be easily implemented in your application via a script tag or a React component.</p>
<a id="md:add-the-procaptcha-widget-to-your-web-page-via-a-script-tag" class="tsd-anchor"></a><h2><a href="#md:add-the-procaptcha-widget-to-your-web-page-via-a-script-tag">Add the Procaptcha Widget to your Web page via a script tag</a></h2><p>First, you must include the Procaptcha JavaScript resource somewhere in your HTML page. The <code>&lt;script&gt;</code> must be loaded
via HTTPS and can
be placed anywhere on the page. Inside the <head> tag or immediately after the <code>.procaptcha</code> container are both fine.</p>
<pre><code class="language-html"><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2">=</span><span class="hl-4">&quot;</span><span class="hl-5">module</span><span class="hl-4">&quot;</span><span class="hl-2"> </span><span class="hl-3">src</span><span class="hl-2">=</span><span class="hl-4">&quot;</span><span class="hl-5">https://js.prosopo.io/js/procaptcha.bundle.js</span><span class="hl-4">&quot;</span><span class="hl-2"> </span><span class="hl-3">async</span><span class="hl-2"> </span><span class="hl-3">defer</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code><button>Copy</button></pre>
<p>Now, you can either render the Procaptcha widget implicitly or explicitly.</p>
<a id="md:implicit-rendering-using-procaptcha-container" class="tsd-anchor"></a><h3><a href="#md:implicit-rendering-using-procaptcha-container">Implicit Rendering Using <code>.procaptcha</code> Container</a></h3><p>Add an empty DOM container where the Procaptcha widget will be inserted automatically. The container is
typically a <code>&lt;div&gt;</code> (but can be any element) and must have class <code>procaptcha</code> and a <code>data-sitekey</code> attribute set to your
public
site key.</p>
<pre><code class="language-html"><span class="hl-0">&lt;</span><span class="hl-1">body</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-7"> </span><span class="hl-3">class</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">procaptcha</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-3">data-sitekey</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">your_site_key</span><span class="hl-4">&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">body</span><span class="hl-0">&gt;</span>
</code><button>Copy</button></pre>
<p>Typically, you&#39;ll want to include the empty <code>.procaptcha</code> container inside an HTML form. When a captcha is successfully
solved, a hidden JSON payload will automatically be added to your form that you can then POST to your server for
verification.
You can retrieve it server side with POST parameter <code>procaptcha-response</code>.</p>
<p>Here&#39;s a full example where Procaptcha is being used to protect a signup form from automated abuse. When the form is
submitted, the <code>procaptcha-response</code> JSON data will be included with the email and password POST data after the captcha
is
solved.</p>
<a id="md:example-of-implicit-rendering" class="tsd-anchor"></a><h4><a href="#md:example-of-implicit-rendering">Example of implicit rendering</a></h4><pre><code class="language-html"><span class="hl-0">&lt;</span><span class="hl-1">html</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">head</span><span class="hl-0">&gt;</span><br/><span class="hl-6">        </span><span class="hl-0">&lt;</span><span class="hl-1">title</span><span class="hl-0">&gt;</span><span class="hl-6">Procaptcha Demo</span><span class="hl-0">&lt;/</span><span class="hl-1">title</span><span class="hl-0">&gt;</span><br/><span class="hl-7">        </span><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2">=</span><span class="hl-4">&quot;</span><span class="hl-5">module</span><span class="hl-4">&quot;</span><span class="hl-2"> </span><span class="hl-3">src</span><span class="hl-2">=</span><span class="hl-4">&quot;</span><span class="hl-5">https://js.prosopo.io/js/procaptcha.bundle.js</span><span class="hl-4">&quot;</span><span class="hl-2"> </span><span class="hl-3">async</span><span class="hl-2"> </span><span class="hl-3">defer</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;/</span><span class="hl-1">head</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">body</span><span class="hl-0">&gt;</span><br/><span class="hl-6">        </span><span class="hl-0">&lt;</span><span class="hl-1">form</span><span class="hl-7"> </span><span class="hl-3">action</span><span class="hl-7">=</span><span class="hl-4">&quot;&quot;</span><span class="hl-7"> </span><span class="hl-3">method</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">POST</span><span class="hl-4">&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-6">            </span><span class="hl-0">&lt;</span><span class="hl-1">input</span><span class="hl-7"> </span><span class="hl-3">type</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">text</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-3">name</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">email</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-3">placeholder</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">Email</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-0">/&gt;</span><br/><span class="hl-6">            </span><span class="hl-0">&lt;</span><span class="hl-1">input</span><span class="hl-7"> </span><span class="hl-3">type</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">password</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-3">name</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">password</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-3">placeholder</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">Password</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-0">/&gt;</span><br/><span class="hl-6">            </span><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-7"> </span><span class="hl-3">class</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">procaptcha</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-3">data-sitekey</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">your_site_key</span><span class="hl-4">&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-6">            </span><span class="hl-0">&lt;</span><span class="hl-1">br</span><span class="hl-7"> </span><span class="hl-0">/&gt;</span><br/><span class="hl-6">            </span><span class="hl-0">&lt;</span><span class="hl-1">input</span><span class="hl-7"> </span><span class="hl-3">type</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">submit</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-3">value</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">Submit</span><span class="hl-4">&quot;</span><span class="hl-7"> </span><span class="hl-0">/&gt;</span><br/><span class="hl-6">        </span><span class="hl-0">&lt;/</span><span class="hl-1">form</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;/</span><span class="hl-1">body</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">html</span><span class="hl-0">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:explicit-rendering" class="tsd-anchor"></a><h3><a href="#md:explicit-rendering">Explicit Rendering</a></h3><p>If you prefer to render the widget yourself, you can use the <code>Procaptcha.render()</code> method. The <code>Procaptcha.render()</code>
must be called after the procaptcha.bundle.js script has loaded.</p>
<a id="md:example-of-explicit-rendering" class="tsd-anchor"></a><h4><a href="#md:example-of-explicit-rendering">Example of explicit rendering</a></h4><p>The script is loaded in the head of the document and given the id <code>procaptcha-script</code>. A container is created with the
id <code>procaptcha-container</code> where the widget will be rendered.</p>
<pre><code class="language-html"><span class="hl-0">&lt;</span><span class="hl-1">html</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">head</span><span class="hl-0">&gt;</span><br/><span class="hl-7">        </span><span class="hl-0">&lt;</span><span class="hl-1">script</span><br/><span class="hl-2">            </span><span class="hl-3">type</span><span class="hl-2">=</span><span class="hl-4">&quot;</span><span class="hl-5">module</span><span class="hl-4">&quot;</span><br/><span class="hl-2">            </span><span class="hl-3">id</span><span class="hl-2">=</span><span class="hl-4">&quot;</span><span class="hl-5">procaptcha-script</span><span class="hl-4">&quot;</span><br/><span class="hl-2">            </span><span class="hl-3">src</span><span class="hl-2">=</span><span class="hl-4">&quot;</span><span class="hl-5">https://js.prosopo.io/js/procaptcha.bundle.js</span><span class="hl-4">&quot;</span><br/><span class="hl-2">            </span><span class="hl-3">async</span><br/><span class="hl-2">            </span><span class="hl-3">defer</span><br/><span class="hl-2">        </span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;/</span><span class="hl-1">head</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">body</span><span class="hl-0">&gt;</span><br/><span class="hl-6">        </span><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-7"> </span><span class="hl-3">id</span><span class="hl-7">=</span><span class="hl-4">&quot;</span><span class="hl-5">procaptcha-container</span><span class="hl-4">&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;/</span><span class="hl-1">body</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">html</span><span class="hl-0">&gt;</span>
</code><button>Copy</button></pre>
<p>An <code>onload</code> event is added to the script tag to call the render function when the script has loaded.</p>
<pre><code class="language-javascript"><span class="hl-8">// A function that will call the render Procaptcha function when the procaptcha script has loaded</span><br/><span class="hl-9">document</span><span class="hl-7">.</span><span class="hl-10">getElementById</span><span class="hl-6">(</span><span class="hl-11">&#39;</span><span class="hl-12">procaptcha-script</span><span class="hl-11">&#39;</span><span class="hl-6">)</span><span class="hl-7">.</span><span class="hl-10">addEventListener</span><span class="hl-6">(</span><span class="hl-11">&#39;</span><span class="hl-12">load</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><span class="hl-6"> </span><span class="hl-13">function</span><span class="hl-6"> </span><span class="hl-7">()</span><span class="hl-6"> </span><span class="hl-7">{</span><br/><span class="hl-7">    </span><span class="hl-8">// Define a callback function to be called when the CAPTCHA is verified</span><br/><span class="hl-14">    </span><span class="hl-9">window</span><span class="hl-7">.</span><span class="hl-10">onCaptchaVerified</span><span class="hl-14"> </span><span class="hl-7">=</span><span class="hl-14"> </span><span class="hl-13">function</span><span class="hl-14"> </span><span class="hl-7">(</span><span class="hl-9">output</span><span class="hl-7">)</span><span class="hl-14"> </span><span class="hl-7">{</span><br/><span class="hl-14">        </span><span class="hl-9">console</span><span class="hl-7">.</span><span class="hl-10">log</span><span class="hl-14">(</span><span class="hl-11">&#39;</span><span class="hl-12">Captcha verified, output: </span><span class="hl-11">&#39;</span><span class="hl-14"> </span><span class="hl-7">+</span><span class="hl-14"> </span><span class="hl-15">JSON</span><span class="hl-7">.</span><span class="hl-10">stringify</span><span class="hl-14">(</span><span class="hl-9">output</span><span class="hl-14">))</span><br/><span class="hl-14">    </span><span class="hl-7">}</span><br/><br/><span class="hl-7">    </span><span class="hl-8">// Render the CAPTCHA explicitly on a container with id &quot;procaptcha-container&quot;</span><br/><span class="hl-14">    </span><span class="hl-9">window</span><span class="hl-7">.</span><span class="hl-9">procaptcha</span><span class="hl-7">.</span><span class="hl-10">render</span><span class="hl-14">(</span><span class="hl-11">&#39;</span><span class="hl-12">procaptcha-container</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><span class="hl-14"> </span><span class="hl-7">{</span><br/><span class="hl-14">        </span><span class="hl-16">siteKey</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">YOUR_SITE_KEY</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">        </span><span class="hl-16">theme</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">dark</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">        </span><span class="hl-16">callback</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">onCaptchaVerified</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">    </span><span class="hl-7">}</span><span class="hl-14">)</span><br/><span class="hl-7">}</span><span class="hl-6">)</span>
</code><button>Copy</button></pre>
<a id="md:procaptcha-response" class="tsd-anchor"></a><h3><a href="#md:procaptcha-response">Procaptcha-response</a></h3><p>The output from the <code>onCaptchaVerified</code> function is the <code>procaptcha-response</code> JSON data. The <code>procaptcha-response</code> JSON
data contains the following fields:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>commitmentId</td>
<td>string</td>
<td>The commitment ID of the captcha challenge. This is used to verify the user&#39;s response on-chain.</td>
</tr>
<tr>
<td>providerUrl</td>
<td>string</td>
<td>The URL of the provider that the user used to solve the captcha challenge.</td>
</tr>
<tr>
<td>dapp</td>
<td>string</td>
<td>The SITE_KEY of your application / website</td>
</tr>
<tr>
<td>user</td>
<td>string</td>
<td>The user&#39;s account address</td>
</tr>
<tr>
<td>blockNumber</td>
<td>number</td>
<td>The block number of the captcha challenge. This is used to verify that the contacted provider was randomly selected on-chain.</td>
</tr>
</tbody></table>
<a id="md:verify-the-user-response-server-side" class="tsd-anchor"></a><h2><a href="#md:verify-the-user-response-server-side">Verify the User Response Server Side</a></h2><p>By adding the client side code, you were able to render a Procaptcha widget that identified if users were real people or
automated bots. When the captcha succeeded, the Procaptcha script inserted unique data into your form data, which is
then sent to your server for verification. The are currently two options for verifying the user&#39;s response server side:</p>
<a id="md:option-1-api-verification" class="tsd-anchor"></a><h3><a href="#md:option-1-api-verification">Option 1. API Verification</a></h3><p>To verify that the token is indeed real and valid, you must now verify it at the API endpoint:</p>
<p><a href="https://api.prosopo.io/siteverify">https://api.prosopo.io/siteverify</a></p>
<p>The endpoint expects a POST request with two parameters: your account secret and the <code>procaptcha-response</code> sent from
your frontend HTML to your backend for verification. You can optionally include the user&#39;s IP address as an additional
security check.</p>
<p>A simple test will look like this:</p>
<pre><code class="language-bash"><span class="hl-18">curl</span><span class="hl-6"> </span><span class="hl-5">-X</span><span class="hl-6"> </span><span class="hl-12">POST</span><span class="hl-6"> </span><span class="hl-12">https://api.prosopo.io/siteverify</span><span class="hl-6"> </span><span class="hl-19">\</span><br/><span class="hl-6">-H </span><span class="hl-11">&quot;</span><span class="hl-12">Content-Type: application/json</span><span class="hl-11">&quot;</span><span class="hl-6"> </span><span class="hl-19">\</span><br/><span class="hl-6">-d </span><span class="hl-11">&#39;</span><span class="hl-12">PROCAPTCHA_RESPONSE</span><span class="hl-11">&#39;</span>
</code><button>Copy</button></pre>
<p>Note that the endpoint expects the application/json Content-Type. You can see exactly what is sent
using</p>
<pre><code class="language-bash"><span class="hl-18">curl</span><span class="hl-6"> </span><span class="hl-5">-vv</span>
</code><button>Copy</button></pre>
<p>in the example above.</p>
<a id="md:option-2-typescript-verification-package" class="tsd-anchor"></a><h3><a href="#md:option-2-typescript-verification-package">Option 2. TypeScript Verification Package</a></h3><p>To verify a user&#39;s response using TypeScript, simpy import the <code>verify</code> function from <code>@prosopo/server</code> and pass it
the <code>procaptcha-response</code> POST data. Types can be imported from <code>@prosopo/types</code>.</p>
<pre><code class="language-typescript"><span class="hl-20">import</span><span class="hl-6"> </span><span class="hl-7">{</span><span class="hl-9">ProsopoServer</span><span class="hl-7">}</span><span class="hl-6"> </span><span class="hl-20">from</span><span class="hl-6"> </span><span class="hl-11">&#39;</span><span class="hl-12">@prosopo/server</span><span class="hl-11">&#39;</span><br/><span class="hl-20">import</span><span class="hl-6"> </span><span class="hl-7">{</span><span class="hl-9">ApiParams</span><span class="hl-7">}</span><span class="hl-6"> </span><span class="hl-20">from</span><span class="hl-6"> </span><span class="hl-11">&#39;</span><span class="hl-12">@prosopo/types</span><span class="hl-11">&#39;</span><br/><br/><span class="hl-7">...</span><br/><br/><span class="hl-20">if</span><span class="hl-6"> (</span><span class="hl-20">await</span><span class="hl-6"> </span><span class="hl-9">prosopoServer</span><span class="hl-7">.</span><span class="hl-10">isVerified</span><span class="hl-6">(</span><span class="hl-9">payload</span><span class="hl-6">[</span><span class="hl-9">ApiParams</span><span class="hl-7">.</span><span class="hl-9">procaptchaResponse</span><span class="hl-6">])) </span><span class="hl-7">{</span><br/><span class="hl-7">    </span><span class="hl-8">// perform CAPTCHA protected action</span><br/><span class="hl-7">}</span>
</code><button>Copy</button></pre>
<p>There is an example TypeScript server side implementation
in <a href="https://github.com/prosopo/captcha/tree/main/demos/client-example-server">demos/client-example-server</a>.</p>
<a id="md:procaptcha-premium-features" class="tsd-anchor"></a><h2><a href="#md:procaptcha-premium-features">Procaptcha Premium Features</a></h2><a id="md:proof-of-work-captcha" class="tsd-anchor"></a><h3><a href="#md:proof-of-work-captcha">Proof of Work CAPTCHA</a></h3><p>Procaptcha Premium&#39;s Proof-of-Work feature deters bot attacks by requiring users to solve a cryptographic puzzle. The
puzzle is easy for humans to solve but computationally expensive for bots.</p>
<a id="md:example-of-proof-of-work-rendering" class="tsd-anchor"></a><h4><a href="#md:example-of-proof-of-work-rendering">Example of Proof-of-Work rendering</a></h4><p>[Explicit Rendering](###Explicit Rendering) is used to render a proof of work CAPTCHA by setting the <code>captchaType</code>
to <code>pow</code>.</p>
<pre><code class="language-javascript"><span class="hl-9">document</span><span class="hl-7">.</span><span class="hl-10">getElementById</span><span class="hl-6">(</span><span class="hl-11">&#39;</span><span class="hl-12">procaptcha-script</span><span class="hl-11">&#39;</span><span class="hl-6">)</span><span class="hl-7">.</span><span class="hl-10">addEventListener</span><span class="hl-6">(</span><span class="hl-11">&#39;</span><span class="hl-12">load</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><span class="hl-6"> </span><span class="hl-13">function</span><span class="hl-6"> </span><span class="hl-7">()</span><span class="hl-6"> </span><span class="hl-7">{</span><br/><span class="hl-14">    </span><span class="hl-9">window</span><span class="hl-7">.</span><span class="hl-10">onCaptchaVerified</span><span class="hl-14"> </span><span class="hl-7">=</span><span class="hl-14"> </span><span class="hl-13">function</span><span class="hl-14"> </span><span class="hl-7">(</span><span class="hl-9">output</span><span class="hl-7">)</span><span class="hl-14"> </span><span class="hl-7">{</span><br/><span class="hl-14">        </span><span class="hl-9">console</span><span class="hl-7">.</span><span class="hl-10">log</span><span class="hl-14">(</span><span class="hl-11">&#39;</span><span class="hl-12">Captcha verified, output: </span><span class="hl-11">&#39;</span><span class="hl-14"> </span><span class="hl-7">+</span><span class="hl-14"> </span><span class="hl-15">JSON</span><span class="hl-7">.</span><span class="hl-10">stringify</span><span class="hl-14">(</span><span class="hl-9">output</span><span class="hl-14">))</span><br/><span class="hl-14">    </span><span class="hl-7">}</span><br/><span class="hl-14">    </span><span class="hl-9">window</span><span class="hl-7">.</span><span class="hl-9">procaptcha</span><span class="hl-7">.</span><span class="hl-10">render</span><span class="hl-14">(</span><span class="hl-11">&#39;</span><span class="hl-12">procaptcha-container</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><span class="hl-14"> </span><span class="hl-7">{</span><br/><span class="hl-14">        </span><span class="hl-16">siteKey</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">YOUR_SITE_KEY</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">        </span><span class="hl-16">theme</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">dark</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">        </span><span class="hl-16">callback</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">onCaptchaVerified</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">        </span><span class="hl-16">captchaType</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">pow</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">    </span><span class="hl-7">}</span><span class="hl-14">)</span><br/><span class="hl-7">}</span><span class="hl-6">)</span>
</code><button>Copy</button></pre>
<a id="md:frictionless-captcha" class="tsd-anchor"></a><h3><a href="#md:frictionless-captcha">Frictionless CAPTCHA</a></h3><p>Procaptcha Premium&#39;s Frictionless feature dynamically detects if the user is a bot or a human. If the user is likely to
be a bot, the user will be presented with a CAPTCHA challenge. If the user is likely to be a human, the user will not be
presented with a CAPTCHA challenge.</p>
<a id="md:example-of-frictionless-rendering" class="tsd-anchor"></a><h4><a href="#md:example-of-frictionless-rendering">Example of Frictionless rendering</a></h4><p>[Explicit Rendering](###Explicit Rendering) is used to render a proof of work CAPTCHA by setting the <code>captchaType</code>
to <code>frictionless</code>.</p>
<pre><code class="language-javascript"><span class="hl-9">document</span><span class="hl-7">.</span><span class="hl-10">getElementById</span><span class="hl-6">(</span><span class="hl-11">&#39;</span><span class="hl-12">procaptcha-script</span><span class="hl-11">&#39;</span><span class="hl-6">)</span><span class="hl-7">.</span><span class="hl-10">addEventListener</span><span class="hl-6">(</span><span class="hl-11">&#39;</span><span class="hl-12">load</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><span class="hl-6"> </span><span class="hl-13">function</span><span class="hl-6"> </span><span class="hl-7">()</span><span class="hl-6"> </span><span class="hl-7">{</span><br/><span class="hl-14">    </span><span class="hl-9">window</span><span class="hl-7">.</span><span class="hl-10">onCaptchaVerified</span><span class="hl-14"> </span><span class="hl-7">=</span><span class="hl-14"> </span><span class="hl-13">function</span><span class="hl-14"> </span><span class="hl-7">(</span><span class="hl-9">output</span><span class="hl-7">)</span><span class="hl-14"> </span><span class="hl-7">{</span><br/><span class="hl-14">        </span><span class="hl-9">console</span><span class="hl-7">.</span><span class="hl-10">log</span><span class="hl-14">(</span><span class="hl-11">&#39;</span><span class="hl-12">Captcha verified, output: </span><span class="hl-11">&#39;</span><span class="hl-14"> </span><span class="hl-7">+</span><span class="hl-14"> </span><span class="hl-15">JSON</span><span class="hl-7">.</span><span class="hl-10">stringify</span><span class="hl-14">(</span><span class="hl-9">output</span><span class="hl-14">))</span><br/><span class="hl-14">    </span><span class="hl-7">}</span><br/><span class="hl-14">    </span><span class="hl-9">window</span><span class="hl-7">.</span><span class="hl-9">procaptcha</span><span class="hl-7">.</span><span class="hl-10">render</span><span class="hl-14">(</span><span class="hl-11">&#39;</span><span class="hl-12">procaptcha-container</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><span class="hl-14"> </span><span class="hl-7">{</span><br/><span class="hl-14">        </span><span class="hl-16">siteKey</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">YOUR_SITE_KEY</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">        </span><span class="hl-16">theme</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">dark</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">        </span><span class="hl-16">callback</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">onCaptchaVerified</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">        </span><span class="hl-16">captchaType</span><span class="hl-17">:</span><span class="hl-14"> </span><span class="hl-11">&#39;</span><span class="hl-12">frictionless</span><span class="hl-11">&#39;</span><span class="hl-7">,</span><br/><span class="hl-14">    </span><span class="hl-7">}</span><span class="hl-14">)</span><br/><span class="hl-7">}</span><span class="hl-6">)</span>
</code><button>Copy</button></pre>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:prosopo-procaptcha"><span>Prosopo <wbr/>Procaptcha</span></a><a href="#md:configuration"><span>Configuration</span></a><ul><li><a href="#md:add-the-procaptcha-widget-to-your-web-page-via-a-script-tag"><span>Add the <wbr/>Procaptcha <wbr/>Widget to your <wbr/>Web page via a script tag</span></a></li><li><ul><li><a href="#md:implicit-rendering-using-procaptcha-container"><span>Implicit <wbr/>Rendering <wbr/>Using .procaptcha <wbr/>Container</span></a></li><li><ul><li><a href="#md:example-of-implicit-rendering"><span>Example of implicit rendering</span></a></li></ul></li><li><a href="#md:explicit-rendering"><span>Explicit <wbr/>Rendering</span></a></li><li><ul><li><a href="#md:example-of-explicit-rendering"><span>Example of explicit rendering</span></a></li></ul></li><li><a href="#md:procaptcha-response"><span>Procaptcha-<wbr/>response</span></a></li></ul></li><li><a href="#md:verify-the-user-response-server-side"><span>Verify the <wbr/>User <wbr/>Response <wbr/>Server <wbr/>Side</span></a></li><li><ul><li><a href="#md:option-1-api-verification"><span>Option 1. API <wbr/>Verification</span></a></li><li><a href="#md:option-2-typescript-verification-package"><span>Option 2. <wbr/>Type<wbr/>Script <wbr/>Verification <wbr/>Package</span></a></li></ul></li><li><a href="#md:procaptcha-premium-features"><span>Procaptcha <wbr/>Premium <wbr/>Features</span></a></li><li><ul><li><a href="#md:proof-of-work-captcha"><span>Proof of <wbr/>Work CAPTCHA</span></a></li><li><ul><li><a href="#md:example-of-proof-of-work-rendering"><span>Example of <wbr/>Proof-<wbr/>of-<wbr/>Work rendering</span></a></li></ul></li><li><a href="#md:frictionless-captcha"><span>Frictionless CAPTCHA</span></a></li><li><ul><li><a href="#md:example-of-frictionless-rendering"><span>Example of <wbr/>Frictionless rendering</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>Documentation - v0.3.2</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>